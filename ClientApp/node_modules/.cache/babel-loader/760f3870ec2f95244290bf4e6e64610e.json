{"ast":null,"code":"var _jsxFileName = \"/home/abdisalam/Documents/Incident/ClientApp/src/views/auth/SignIn5.js\";\nimport React, { Component } from \"react\";\nimport Breadcrumb from \"../../layouts/AdminLayout/Breadcrumb\";\nimport back4 from \"../../assets/images/bg-images/bg4.jpg\";\nimport Logo from \"../../assets/images/Logo.jpeg\";\nimport { Alert } from \"react-bootstrap\";\nimport Config from \"../../config/config.json\";\nimport Joi from \"joi-browser\";\nimport Services from \"../../services/HttpServices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SignIn5 extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {\n        username: \"\",\n        password: \"\"\n      },\n      errors: \"\"\n    };\n    this.schema = {\n      username: Joi.string().required().label(\"Username\"),\n      password: Joi.string().required().label(\"Password\")\n    };\n\n    this.handleOnChange = ({\n      currentTarget: input\n    }) => {\n      const user = { ...this.state.user\n      };\n      user[input.name] = input.value;\n      this.setState({\n        user\n      });\n    };\n\n    this.validate = () => {\n      const user = { ...this.state.user\n      };\n      const option = {\n        abortEarly: false\n      };\n      const errors = {};\n      const {\n        error\n      } = Joi.validate(user, this.schema, option);\n      if (!error) return null;\n\n      for (let e of error.details) errors[e.path[0]] = e.message;\n\n      return errors;\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const user = { ...this.state.user\n      };\n      const errors = this.validate();\n      this.setState({\n        errors: errors\n      });\n      if (errors) return;\n      this.setState({\n        loading: true\n      });\n      Services.post(Config.apiUrl + \"/token\", user).then(({\n        data\n      }) => {\n        localStorage.setItem(\"token\", data.token);\n        window.location = \"/\";\n      }).catch(error => {\n        if (error.response.status === 400 && error.response.data) {\n          const errors = { ...this.state.errors\n          };\n          errors[\"username\"] = error.response.data;\n          this.setState({\n            errors,\n            loading: false\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    const {\n      user,\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-wrapper aut-bg-img\",\n        style: {\n          backgroundImage: `url(${back4})`,\n          backgroundSize: \"cover\",\n          backgroundAttachment: \"fixed\",\n          backgroundPosition: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: Logo,\n                  alt: \"Logo\",\n                  width: 225,\n                  height: 130\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"mb-4\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 17\n              }, this), errors && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"danger\",\n                children: \"Invalid username or password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: user.username,\n                    onChange: this.handleOnChange,\n                    type: \"text\",\n                    name: \"username\",\n                    className: \"form-control\",\n                    placeholder: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 50,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: user.password,\n                    onChange: this.handleOnChange,\n                    type: \"password\",\n                    name: \"password\",\n                    className: \"form-control\",\n                    placeholder: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 60,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: this.validate(),\n                  className: \"btn btn-primary shadow-2 mb-4\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SignIn5;","map":{"version":3,"sources":["/home/abdisalam/Documents/Incident/ClientApp/src/views/auth/SignIn5.js"],"names":["React","Component","Breadcrumb","back4","Logo","Alert","Config","Joi","Services","SignIn5","state","user","username","password","errors","schema","string","required","label","handleOnChange","currentTarget","input","name","value","setState","validate","option","abortEarly","error","e","details","path","message","handleSubmit","preventDefault","loading","post","apiUrl","then","data","localStorage","setItem","token","window","location","catch","response","status","render","backgroundImage","backgroundSize","backgroundAttachment","backgroundPosition"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport Breadcrumb from \"../../layouts/AdminLayout/Breadcrumb\";\nimport back4 from \"../../assets/images/bg-images/bg4.jpg\";\nimport Logo from \"../../assets/images/Logo.jpeg\";\n\nimport { Alert } from \"react-bootstrap\";\nimport Config from \"../../config/config.json\";\nimport Joi from \"joi-browser\";\nimport Services from \"../../services/HttpServices\";\n\nclass SignIn5 extends Component {\n  state = {\n    user: { username: \"\", password: \"\" },\n    errors: \"\",\n  };\n\n  schema = {\n    username: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().label(\"Password\"),\n  };\n\n  render() {\n    const { user, errors } = this.state;\n\n    return (\n      <React.Fragment>\n        <Breadcrumb />\n        <div\n          className=\"auth-wrapper aut-bg-img\"\n          style={{\n            backgroundImage: `url(${back4})`,\n            backgroundSize: \"cover\",\n            backgroundAttachment: \"fixed\",\n            backgroundPosition: \"center\",\n          }}\n        >\n          <div className=\"auth-content\">\n            <div className=\"card\">\n              <div className=\"card-body text-center\">\n                <div className=\"mb-4\">\n                  <img src={Logo} alt=\"Logo\" width={225} height={130} />\n                </div>\n                <h3 className=\"mb-4\">Sign in</h3>\n                {errors && (\n                  <Alert variant=\"danger\">Invalid username or password</Alert>\n                )}\n                <form onSubmit={this.handleSubmit}>\n                  <div className=\"input-group mb-3\">\n                    <input\n                      value={user.username}\n                      onChange={this.handleOnChange}\n                      type=\"text\"\n                      name=\"username\"\n                      className=\"form-control\"\n                      placeholder=\"Username\"\n                    />\n                  </div>\n                  <div className=\"input-group mb-4\">\n                    <input\n                      value={user.password}\n                      onChange={this.handleOnChange}\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"Password\"\n                    />\n                  </div>\n                  <button\n                    type=\"submit\"\n                    disabled={this.validate()}\n                    className=\"btn btn-primary shadow-2 mb-4\"\n                  >\n                    Login\n                  </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  handleOnChange = ({ currentTarget: input }) => {\n    const user = { ...this.state.user };\n    user[input.name] = input.value;\n\n    this.setState({ user });\n  };\n  validate = () => {\n    const user = { ...this.state.user };\n    const option = { abortEarly: false };\n    const errors = {};\n    const { error } = Joi.validate(user, this.schema, option);\n\n    if (!error) return null;\n\n    for (let e of error.details) errors[e.path[0]] = e.message;\n\n    return errors;\n  };\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    const user = { ...this.state.user };\n    const errors = this.validate();\n\n    this.setState({ errors: errors });\n\n    if (errors) return;\n\n    this.setState({ loading: true });\n\n    Services.post(Config.apiUrl + \"/token\", user)\n      .then(({ data }) => {\n        localStorage.setItem(\"token\", data.token);\n        window.location = \"/\";\n      })\n      .catch((error) => {\n        if (error.response.status === 400 && error.response.data) {\n          const errors = { ...this.state.errors };\n          errors[\"username\"] = error.response.data;\n\n          this.setState({ errors, loading: false });\n        }\n      });\n  };\n}\n\nexport default SignIn5;\n"]},"metadata":{},"sourceType":"module"}